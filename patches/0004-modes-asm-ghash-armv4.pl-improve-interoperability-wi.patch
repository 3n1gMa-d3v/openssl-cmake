From 6cf412c473d8145562b76219ce3da73b201b3255 Mon Sep 17 00:00:00 2001
From: Andy Polyakov <appro@openssl.org>
Date: Sat, 27 Aug 2016 20:22:03 +0200
Subject: [PATCH] modes/asm/ghash-armv4.pl: improve interoperability with
 Android NDK.

Reviewed-by: Tim Hudson <tjh@openssl.org>
---
 crypto/modes/asm/ghash-armv4.pl | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/crypto/modes/asm/ghash-armv4.pl b/crypto/modes/asm/ghash-armv4.pl
index db56c85..7d880c9 100644
--- a/crypto/modes/asm/ghash-armv4.pl
+++ b/crypto/modes/asm/ghash-armv4.pl
@@ -143,8 +143,10 @@ $code=<<___;
 #include "arm_arch.h"
 
 .text
-#if defined(__thumb2__)
+#if defined(__thumb2__) || defined(__clang__)
 .syntax	unified
+#endif
+#if defined(__thumb2__)
 .thumb
 #else
 .code	32
-- 
2.9.3

